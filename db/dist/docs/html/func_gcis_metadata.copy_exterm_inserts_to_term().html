
<!-- $Header: /cvsroot/autodoc/autodoc/html.tmpl,v 1.4 2006/05/16 19:01:27 rbt Exp $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
  <head>
    <title>Index for </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <style type="text/css">
	BODY {
		color:	#000000;
		background-color: #FFFFFF;
		font-family: Helvetica, sans-serif;
	}

	P {
		margin-top: 5px;
		margin-bottom: 5px;
	}

	P.w3ref {
		font-size: 8pt;
		font-style: italic;
		text-align: right;
	}

	P.detail {
		font-size: 10pt;
	}

	.error {
		color: #FFFFFF;
		background-color: #FF0000;
	}

	H1, H2, H3, H4, H5, H6 {
	}

	OL {
		list-style-type: upper-alpha;
	}

	UL.topic {
		list-style-type: upper-alpha;
	}

	LI.topic {
		font-weight : bold;
	}

	HR {
		color: #00FF00;
		background-color: #808080;
	}

	TABLE {
		border-width: medium;
		padding: 3px;
		background-color: #000000;
		width: 90%;
	}

	CAPTION {
		text-transform: capitalize;
		font-weight : bold;
		font-size: 14pt;
	}

	TH {
		color: #FFFFFF;
		background-color: #000000;
		text-align: left;
	}

	TR {
		color: #000000;
		background-color: #000000;
		vertical-align: top;
	}

	TR.tr0 {
		background-color: #F0F0F0;
	}

	TR.tr1 {
		background-color: #D8D8D8;
	}

	TD {
		font-size: 12pt;
	}

	TD.col0 {
		font-weight : bold;
		width: 20%;
	}

	TD.col1 {
		font-style: italic;
		width: 15%;
	}

	TD.col2 {
		font-size: 12px;
	}
    </style>
    <link rel="stylesheet" type="text/css" media="all" href="all.css">
    <link rel="stylesheet" type="text/css" media="screen" href="screen.css">
    <link rel="stylesheet" type="text/css" media="print" href="print.css">
    <meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
  </head>
  <body>



        <h2>Function:
            <a href="#gcis-metadata.schema"><a name="gcis-metadata.function.copy-exterm-inserts-to-term">copy_exterm_inserts_to_term()</a>
        </h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>
Populate fields in tables &#39;context&#39;, &#39;term&#39;, and &#39;term_map&#39; for new entries in
&#39;exterm&#39; table.
This is to keep these new tables in sync with any new data entered into exterm
during the transition to using the new tables in the perl code.
</p>
        <pre>
BEGIN
    --populate context
    IF NOT EXISTS (SELECT * FROM context c
                   WHERE c.identifier = NEW.context)
    THEN INSERT INTO context (lexicon_identifier, identifier, version)
                VALUES (NEW.lexicon_identifier, NEW.context, &#39;&#39;);
    END IF;
    --populate term
    INSERT INTO term (lexicon_identifier, context_identifier, term)
           VALUES (NEW.lexicon_identifier, NEW.context, NEW.term);
    --populate term_map
    INSERT INTO term_map (term_identifier, relationship, gcid)
           (SELECT t.identifier, &#39;owl:sameAs&#39;, NEW.gcid
            FROM term AS t
            WHERE t.term = NEW.term
              AND t.lexicon_identifier = NEW.lexicon_identifier
              AND t.context_identifier = NEW.context
           );
    RETURN NEW;
END; </pre>

</body></html>

    
